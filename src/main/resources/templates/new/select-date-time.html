<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>新患予約 - 日時選択</title>
</head>
<body>
<h2>新規予約（初めての方）</h2>

<form th:action="@{/new/select-date}" method="post">
    <label>日付：</label>
    <select name="selectedDate">
        <option th:each="date : ${availableDates}"
                th:value="${date}" th:text="${date}"></option>
    </select>
    <button type="submit">時間を表示</button>
</form>

<br>

<!-- 日付が選択された後に時間を選ぶ -->
<div th:if="${selectedDate != null}">
    <form th:action="@{/new/input-info}" method="post">
        <p>選択中の日付：<span th:text="${selectedDate}"></span></p>

        <label>時間：</label>
        <select name="selectedTime">
            <option th:each="time : ${availableTimes}"
                    th:value="${time}" th:text="${time}"></option>
        </select>

        <br><br>
        <label>希望内容：</label>
        <input type="radio" name="type" value="treatment" required> 治療
        <input type="radio" name="type" value="checkup"> 定期検診

        <br><br>
        <button type="submit">次へ</button>
    </form>
</div>

<br>
<a th:href="@{/}">TOPに戻る</a>

</body>
</html>
